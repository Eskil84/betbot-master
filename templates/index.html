<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Fogad√°si Tippek</title>
  <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
  <link rel="icon" href="{{ url_for('static', filename='app-icon.png') }}" type="image/png">
  <style>
    body { font-family: Arial, sans-serif; background-color: #f8f9fa; padding: 20px; }
    h1, h2 { text-align: center; color: #333; }
    table { width: 90%; margin: 20px auto; border-collapse: collapse; background-color: white; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: center; }
    th { background-color: #007bff; color: white; }
    tr:nth-child(even) { background-color: #f1f1f1; }
    .section { margin-bottom: 50px; }
    form { text-align: center; margin: 20px auto; }
    input[type="date"] { padding: 8px; font-size: 1rem; }
    button { padding: 8px 16px; font-size: 1rem; }
  </style>
</head>
<body>

  <h1>üéØ Okos Fogad√°si Tippek</h1>

  <form method="get" action="/" style="text-align:center; margin-bottom: 20px;">
    <label for="date">V√°lassz d√°tumot:</label>
    <input type="date" id="date" name="date" value="{{ selected_date }}">
    <button type="submit">Friss√≠t√©s</button>
  </form>
  
  <div style="text-align:center; margin-top: 10px;">
    <button type="button" onclick="setDateToday()">Ma</button>
    <button type="button" onclick="setDateTomorrow()">Holnap</button>
  </div>
  
  <script>
    function setDateToToday() {
        const today = new Date().toISOString().split("T")[0];
        document.getElementById("date").value = today;
        document.forms[0].submit();
    }

    function setDateToTomorrow() {
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        const dateStr = tomorrow.toISOString().split("T")[0];
        document.getElementById("date").value = dateStr;
        document.forms[0].submit();
    }
</script>

  <div class="section">
    <h2>‚úÖ √âsszer≈± Tippek</h2>
    {% if smart_tips %}
    <table>
      <tr>
        <th>M√©rk≈ëz√©s</th>
        <th>Sport</th>
        <th>Id≈ëpont</th>
        <th>Tipp</th>
        <th>Odds</th>
        <th>Superbet</th>
      </tr>
      {% for tip in smart_tips %}
      <tr>
        <td>{{ tip.match }}</td>
        <td>{{ tip.sport }}</td>
        <td>{{ tip.time }}</td>
        <td>{{ tip.prediction }}</td>
        <td>{{ tip.avg_odds }}</td>
        <td><a href="{{ tip.link }}" target="_blank">üîó</a></td>
      </tr>
      {% endfor %}
    </table>
  {% else %}
    </p>Nincs √©sszer≈± tipp erre a napra.</p>
  {% endif %}
  </div>

  <div class="section">
    <h2>‚ö†Ô∏è Bunda-gyan√∫s Tippek</h2>
    {% if suspicious_tips %}
    <table>
      <tr>
        <th>M√©rk≈ëz√©s</th>
        <th>Sport</th>
        <th>Id≈ëpont</th>
        <th>Tipp</th>
        <th>Odds</th>
        <th>Superbet</th>
      </tr>
      {% for tip in suspicious_tips %}
      <tr>
        <td>{{ tip.match }}</td>
        <td>{{ tip.sport }}</td>
        <td>{{ tip.time }}</td>
        <td>{{ tip.prediction }}</td>
        <td>{{ tip.avg_odds }}</td>
        <td><a href="{{ tip.link }}" target="_blank">üîó</a></td>
      </tr>
      {% endfor %}
    </table>
    {% else %}
    <p>Nincs bunda-gyan√∫s tipp erre a napra.</p>
    {% endif %}
  </div>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/static/service-worker.js')
        .then(reg => console.log('Szolg√°ltat√°s regisztr√°lva:', reg))
        .catch(err => console.log('Hiba a regisztr√°ci√≥kor:', err));
    }
  </script>
  
  